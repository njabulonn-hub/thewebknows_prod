(()=>{function e(e){return"undefined"!=typeof CSS&&"function"==typeof CSS.escape?CSS.escape(e):String(e||"").replace(/[^a-zA-Z0-9_-]/g,"\\$&")}let n=(()=>{try{var e=document.head&&document.head.querySelector('link[rel="canonical"]');if(e&&e.href){var n=new URL(e.href,window.location.href);if(n.origin&&"null"!==n.origin)return n.origin.includes("pages.dev")?"https://thewebknows.com":n.origin}}catch(e){}try{if(window.location&&window.location.origin&&"null"!==window.location.origin)return window.location.origin.includes("pages.dev")?"https://thewebknows.com":window.location.origin}catch(e){}return"https://thewebknows.com"})();function t(n,t){if(n&&"string"==typeof t&&t.trim()){var a=document.head;if(a){let o=a.querySelector(`meta[name="${e(n)}"]`);o?o.hasAttribute("content")&&""!==o.getAttribute("content").trim()||o.setAttribute("content",t):((o=document.createElement("meta")).setAttribute("name",n),o.setAttribute("content",t),a.appendChild(o))}}}function a(n,t){if(n&&"string"==typeof t&&t.trim()){var a=document.head;if(a){let o=a.querySelector(`meta[property="${e(n)}"]`);o?o.hasAttribute("content")&&""!==o.getAttribute("content").trim()||o.setAttribute("content",t):((o=document.createElement("meta")).setAttribute("property",n),o.setAttribute("content",t),a.appendChild(o))}}}var o,r;async function i(e,n={}){try{a=fetch(e,{...n,cache:"no-store"});var t=await Promise.race([a,new Promise((e,n)=>setTimeout(()=>n(new Error("Timeout")),7e3))]);if(t.ok)return await t.json();throw new Error("HTTP "+t.status)}catch(n){return console.warn(`Failed to fetch ${e}:`,n),null}var a}function l(e,n,t=""){(e=document.getElementById(e))&&(e.textContent=null==n||""===n?"—":n,e.removeAttribute("data-loading"),e.setAttribute("aria-busy","false"),t&&e.nextElementSibling?.classList.contains("info-help")?e.nextElementSibling.textContent=t:!t&&e.nextElementSibling?.classList.contains("info-help")&&e.nextElementSibling.dataset?.defaultHelp&&(e.nextElementSibling.textContent=e.nextElementSibling.dataset.defaultHelp))}async function s(e){"string"!=typeof e&&(e=String(e??""));try{var n,t;if(window.crypto&&window.crypto.subtle&&"undefined"!=typeof TextEncoder)return n=(new TextEncoder).encode(e),t=await window.crypto.subtle.digest("SHA-256",n),Array.from(new Uint8Array(t)).map(e=>e.toString(16).padStart(2,"0")).join("")}catch(n){}let a=5381;for(let n=0;n<e.length;n+=1)a=(a<<5)+a^e.charCodeAt(n);return("00000000"+(a>>>0).toString(16)).slice(-8)}(c=document.head)&&!c.querySelector("script[data-webknows-website]")&&((o=document.createElement("script")).type="application/ld+json",o.setAttribute("data-webknows-website","true"),r={"@context":"https://schema.org","@type":"WebSite","@id":n+"/#website",url:n+"/",name:"The Web Knows",description:"Plain-English privacy diagnostics & guides.",inLanguage:"en",publisher:{"@type":"Organization",name:"The Web Knows",url:n+"/",logo:{"@type":"ImageObject",url:n+"/favicon.svg"}},potentialAction:{"@type":"SearchAction",target:n+"/?q={search_term_string}","query-input":"required name=search_term_string"}},o.textContent=JSON.stringify(r,null,2),c.appendChild(o)),(r=document.head)&&(c=document.title&&document.title.trim()?document.title.trim():"The Web Knows",r=(r=r.querySelector('meta[name="description"]'))&&r.getAttribute("content")?r.getAttribute("content").trim():"Plain-English privacy diagnostics & guides.",o=(()=>{try{var e=document.head&&document.head.querySelector('link[rel="canonical"]');if(e&&e.href)return e.href}catch(e){}try{return""+n+window.location.pathname+window.location.search+window.location.hash}catch(e){return n+"/"}})(),a("og:type","website"),a("og:site_name","The Web Knows"),a("og:title",c),a("og:description",r),a("og:url",o),a("og:image",n+"/og-image.png"),t("twitter:card","summary_large_image"),t("twitter:title",c),t("twitter:description",r),t("twitter:url",o),t("twitter:image",n+"/og-image.png"));let d=["monospace","sans-serif","serif"];var c="\nArial\nVerdana\nTimes New Roman\nCourier New\nGeorgia\nSegoe UI\nHelvetica\nTrebuchet MS\nTahoma\nPalatino\nGill Sans\nCalibri\nCambria\nCandara\nConsolas\nComic Sans MS\nLucida Console\nLucida Sans Unicode\nArial Narrow\nCourier\nImpact\nFranklin Gothic Medium\nCentury Gothic\nGaramond\nBookman\nAvant Garde\nBaskerville\nOptima\nAmerican Typewriter\nAndale Mono\nApple Chancery\nBig Caslon\nDidot\nCharter\nHoefler Text\nMenlo\nMonaco\nNoteworthy\nSkia\nGeneva\nChicago\nNew York\nLucida Grande\nSymbol\nWingdings\nWingdings 2\nWingdings 3\nSegoe Print\nSegoe Script\nSegoe UI Emoji\nSegoe UI Symbol\nSegoe UI Historic\nLucida Sans\nLucida Calligraphy\nBrush Script MT\nRockwell\nPerpetua\nBook Antiqua\nCentury Schoolbook\nElephant\nFootlight MT Light\nKristen ITC\nWide Latin\nTempus Sans ITC\nMonotype Corsiva\nCopperplate\nFutura\nAvenir\nDIN Alternate\nDIN Condensed\nGill Sans MT\nPalatino Linotype\nAparajita\nKalinga\nShonar Bangla\nVrinda\nMangal\nKokila\nRaavi\nTunga\nVani\nShruti\nLatha\nGautami\nIskoola Pota\nNirmala UI\nLeelawadee UI\nMyanmar Text\nKhmer UI\nEbrima\nNyala\nEuphemia UCAS\nMalgun Gothic\nBatang\nGulim\nDotum\nSimSun\nSimHei\nNSimSun\nFangSong\nKaiTi\nSongti SC\nSongti TC\nSTHeiti\nSTKaiti\nSTSong\nHeiti SC\nHeiti TC\nPingFang SC\nPingFang TC\nHiragino Sans\nHiragino Kaku Gothic ProN\nHiragino Mincho ProN\nYu Gothic\nYu Gothic UI\nYu Mincho\nMeiryo\nMeiryo UI\nKozuka Gothic Pro\nKozuka Mincho Pro\nKozuka Gothic Pr6N\nKozuka Mincho Pr6N\nApple SD Gothic Neo\nApple Myungjo\nMicrosoft YaHei\nMicrosoft YaHei UI\nMicrosoft JhengHei\nMicrosoft JhengHei UI\nMicrosoft Uighur\nMicrosoft Himalaya\nMicrosoft PhagsPa\nMicrosoft New Tai Lue\nMicrosoft Tai Le\nMicrosoft Yi Baiti\nEstrangelo Edessa\nGisha\nLevenim MT\nDavid\nFrankRuehl\nMiriam\nAharoni\nSimplified Arabic\nTraditional Arabic\nArabic Typesetting\nUrdu Typesetting\nAdobe Arabic\nRoboto\nRoboto Condensed\nRoboto Mono\nRoboto Slab\nRoboto Flex\nOpen Sans\nOpen Sans Condensed\nLato\nOswald\nSource Sans Pro\nSource Serif Pro\nSource Code Pro\nMontserrat\nMontserrat Alternates\nPoppins\nMerriweather\nMerriweather Sans\nNunito\nNunito Sans\nRaleway\nPT Sans\nPT Serif\nPT Mono\nUbuntu\nUbuntu Mono\nUbuntu Condensed\nTitillium Web\nWork Sans\nInconsolata\nFira Sans\nFira Sans Condensed\nFira Sans Extra Condensed\nFira Code\nNoto Sans\nNoto Serif\nNoto Sans JP\nNoto Sans KR\nNoto Sans SC\nNoto Sans TC\nNoto Sans Arabic\nNoto Sans Devanagari\nNoto Sans Hebrew\nNoto Sans Thai\nNoto Sans Georgian\nNoto Sans Armenian\nNoto Sans Bengali\nNoto Sans Gujarati\nNoto Sans Kannada\nNoto Sans Malayalam\nNoto Sans Tamil\nNoto Sans Telugu\nNoto Sans Sinhala\nNoto Sans Lao\nNoto Serif JP\nNoto Serif KR\nNoto Serif SC\nNoto Serif TC\nBarlow\nBarlow Condensed\nBarlow Semi Condensed\nJost\nManrope\nMulish\nQuicksand\nRubik\nHeebo\nKarla\nCabin\nCabin Condensed\nComfortaa\nCrimson Pro\nCrimson Text\nDomine\nEB Garamond\nExo\nExo 2\nFrancois One\nHind\nHind Madurai\nHind Siliguri\nHind Vadodara\nBitter\nCairo\nCandal\nCatamaran\nChivo\nChivo Mono\nCormorant\nCormorant Garamond\nCormorant Infant\nCormorant SC\nCormorant Unicase\nDM Sans\nDM Serif Display\nDM Serif Text\nEncode Sans\nEncode Sans Condensed\nEncode Sans Semi Condensed\nGothic A1\nIBM Plex Sans\nIBM Plex Serif\nIBM Plex Mono\nInter\nIstok Web\nJosefin Sans\nJosefin Slab\nKanit\nKhand\nLora\nM PLUS 1\nM PLUS Rounded 1c\nMaven Pro\nMetropolis\nMukta\nMukta Malar\nMukta Mahee\nNanum Gothic\nNanum Gothic Coding\nNanum Myeongjo\nNanum Pen Script\nNews Cycle\nOld Standard TT\nOrbitron\nOverpass\nOverpass Mono\nPlay\nPlayfair Display\nPlayfair Display SC\nPrata\nRighteous\nSarala\nSignika\nSignika Negative\nSintony\nSlabo 13px\nSlabo 27px\nSpace Grotesk\nSpace Mono\nTeko\nTinos\nTrirong\nVarela Round\nZilla Slab\nPublic Sans\nRed Hat Display\nRed Hat Text\nBe Vietnam Pro\nPlus Jakarta Sans\nEpilogue\nLexend\nLexend Deca\nLexend Mega\nLexend Tera\nUrbanist\nAtkinson Hyperlegible\nSora\nChakra Petch\nBaloo 2\nBaloo Bhai 2\nBaloo Tamma 2\nBaloo Tammudu 2\nBaloo Thambi 2\nBalsamiq Sans\nBevan\nBioRhyme\nBungee\nBungee Inline\nBungee Outline\nBungee Shade\nCarter One\nChewy\nChanga\nCinzel\nCinzel Decorative\nCoda\nConcert One\nCookie\nCourgette\nCousine\nCrete Round\nCreepster\nDancing Script\nFjalla One\nGudea\nKalam\nKaushan Script\nLobster\nLobster Two\nPacifico\nPassion One\nPatua One\nPermanent Marker\nPoiret One\nQuestrial\nRokkitt\nSatisfy\nShadows Into Light\nStaatliches\nTangerine\nVidaloka\nVolkhov\nYellowtail\nAdamina\nAdvent Pro\nAlegreya\nAlegreya Sans\nAlegreya Sans SC\nAlfa Slab One\nAllerta\nAllerta Stencil\nAmaranth\nAmatic SC\nAmiri\nAndika\nAnton\nArchivo\nArchivo Narrow\nArimo\nArsenal\nArvo\nAsap\nAsap Condensed\nAsul\nAthiti\nAverage\nBalthazar\nBangers\nBenchNine\nBiryani\nBoogaloo\nBree Serif\nBuenard\nCagliostro\nCambay\nCambo\nCantarell\nCantata One\nCantora One\nCapriola\nCardo\nCedarville Cursive\nCeviche One\nCharmonman\nChau Philomene One\nChicle\nChonburi\nCinzel Black\nClicker Script\nCodystar\nCommissioner\nConvergence\nCovered By Your Grace\nCrafty Girls\nCuprum\nCutive\nCutive Mono\nDamion\nDarker Grotesque\nDavid Libre\nDelius\nDelius Swash Caps\nDelius Unicase\nDevonshire\nDhurjati\nDosis\nEczar\nEl Messiri\nElectrolize\nElsie\nElsie Swash Caps\nEncode Sans Expanded\nEnriqueta\nEuphoria Script\nExpletus Sans\nFanwood Text\nFascinate\nFascinate Inline\nFaustina\nFederant\nFedero\nFenix\nFinger Paint\nFondamento\nFresca\nGaldeano\nGamja Flower\nGentium Book Basic\nGentium Basic\nGeo\nGeorama\nGermania One\nGlass Antiqua\nGloria Hallelujah\nGochi Hand\nGorditas\nGraduate\nGrand Hotel\nGruppo\nHandlee\nHalant\nHammersmith One\nHepta Slab\nHerr Von Muellerhoff\nHind Guntur\nHind Jalandhar\nHoltwood One SC\nHomemade Apple\nIbarra Real Nova\nIceberg\nIceland\nImprima\nInder\nIndie Flower\nIrish Grover\nItaliana\nItalianno\nJaldi\nJomhuria\nJolly Lodger\nJudson\nJust Another Hand\nJust Me Again Down Here\nK2D\nKadwa\nKameron\nKarma\nKavivanar\nKdam Thmor Pro\nKenia\nKhula\nKirang Haerang\nKodchasan\nKoulen\nKranky\nKristi\nKurale\nLa Belle Aurore\nLaila\nLakki Reddy\nLancelot\nLedger\nLekton\nLibre Baskerville\nLibre Franklin\nLibre Barcode 39\nLibre Barcode 39 Text\nLibre Barcode 128\nLilita One\nLimelight\nLinden Hill\nLustria\nMa Shan Zheng\nMacondo\nMacondo Swash Caps\nMada\nMagra\nMaiden Orange\nMaitree\nMako\nMallanna\nMandali\nMarcellus\nMarcellus SC\nMarck Script\nMargarine\nMarkazi Text\nMarmelad\nMartel\nMartel Sans\nMarvel\nMate\nMate SC\nMcLaren\nMedula One\nMeera Inimai\nMerienda\nMerienda One\nMetamorphous\nMetrophobic\nMichroma\nMilonga\nMina\nMitr\nModak\nMogra\nMolengo\nMonda\nMonoton\nMonsieur La Doulaise\nMontaga\nMontserrat Subrayada\nMontez\nMountains of Christmas\nMouse Memoirs\nMr De Haviland\nMr Dafoe\nMrs Saint Delafield\nMrs Sheppards\nMystery Quest\nNeucha\nNeuton\nNew Rocker\nNiconne\nNixie One\nNobile\nNotable\nNothing You Could Do\nNumans\nOdibee Sans\nOleo Script\nOleo Script Swash Caps\nOranienbaum\nOrienta\nOriginal Surfer\nOrkney\nOxygen\nPadauk\nPalanquin\nPalanquin Dark\nPaprika\nParisienne\nPassero One\nPatrick Hand\nPatrick Hand SC\nPaytone One\nPeddana\nPeralta\nPetit Formal Script\nPhilosopher\nPiazzolla\nPinyon Script\nPirata One\nPlaster\nPlayball\nPodkova\nPontano Sans\nPort Lligat Sans\nPort Lligat Slab\nPress Start 2P\nPrompt\nProciono\nProsto One\nPuritan\nQuando\nQwigley\nRacing Sans One\nRamaraja\nRambla\nRanchers\nRanga\nRasa\nRationale\nRecursive\nRed Rose\nReem Kufi\nReem Kufi Fun\nReenie Beanie\nRibeye\nRibeye Marrow\nRighteous\nRisque\nRokkitt\nRomanesco\nRopa Sans\nRosario\nRosarivo\nRouge Script\nRowdies\nRozha One\nRubik Mono One\nRuda\nRufina\nRuge Boogie\nRum Raisin\nRuslan Display\nRusso One\nRuthie\nRye\nSaira\nSaira Condensed\nSaira Extra Condensed\nSaira Semi Condensed\nSail\nSalsa\nSanchez\nSancreek\nSansita\nSarabun\nSarpanch\nSawarabi Gothic\nSawarabi Mincho\nScada\nScheherazade\nSeaweed Script\nSecular One\nShare\nShare Tech\nShare Tech Mono\nShojumaru\nShort Stack\nShrikhand\nSiemreap\nSigmar One\nSignika Light\nSimonetta\nSix Caps\nSkranji\nSmythe\nSniglet\nSnippet\nSnowburst One\nSofadi One\nSofia\nSonsie One\nSorts Mill Goudy\nSpectral\nSpectral SC\nSpicy Rice\nSpinnaker\nSpirax\nStalinist One\nStint Ultra Condensed\nStint Ultra Expanded\nStoke\nStrait\nStylish\nSue Ellen Francisco\nSuez One\nSulphur Point\nSunflower\nSupermercado One\nSuranna\nSura\nSuravaram\nSyncopate\nSyne\nTajawal\nTaviraj\nTenali Ramakrishna\nTenor Sans\nText Me One\nThasadith\nThe Girl Next Door\nTillana\nTimmana\nTitan One\nTrade Winds\nTrispace\nTulpen One\nTurret Road\nUncial Antiqua\nUnderdog\nUnica One\nUnkempt\nUnlock\nUnna\nVampiro One\nVarela\nVast Shadow\nVesper Libre\nVidaloka\nViga\nVoces\nVollkorn\nVollkorn SC\nVoltaire\nWaiting for the Sunrise\nWallpoet\nWalter Turncoat\nWellfleet\nWire One\nYanone Kaffeesatz\nYantramanav\nYatra One\nYeseva One\nYesteryear\nYrsa\nYusei Magic\nZCOOL KuaiLe\nZCOOL QingKe HuangYou\nZCOOL XiaoWei\nZeyada\nZilla Slab Highlight\n";let u=Array.from(new Set(c.split("\n").map(e=>e.trim()).filter(Boolean))).slice(0,300),p="mmmmmmmmmmlli";function m(e){return"number"!=typeof e?"—":0===e?"None detected":e+" detected"}function g(e,n={}){return null==e?"low":n[n=String(e).trim().toLowerCase()]||("known"===n?"high":"estimated"===n||"missing"!==n&&"unknown"!==n&&"unavailable"!==n&&"not available"!==n?"medium":"low")}function h(e,n){let t=document.getElementById("ad-topics-list"),a=document.getElementById("ad-category-list");var o=document.getElementById("ad-summary-text"),r=document.getElementById("ad-status-overview"),i=document.getElementById("ad-status-grid"),s=document.getElementById("ad-fingerprint-summary"),d=document.getElementById("ad-fingerprint-canvas"),c=document.getElementById("ad-fingerprint-webgl"),u=document.getElementById("ad-fingerprint-audio"),p=document.getElementById("ad-fingerprint-adblock"),m=document.getElementById("ad-fingerprint-private-mode"),h=document.getElementById("ad-context-status");let y=document.getElementById("ad-context-tags");var v=e,f=i;if(r&&f)if(v&&v.status){var{status:v,signals:i}=v;let e=[];var w=(n,t,a,o)=>{t&&e.push({label:n,value:t,level:a,description:o})};let n="Network type unclear; fewer assumptions can be made.";"Home/office ISP (guess)"===(S=((b=((b=((b=((b=((b=v.ip&&v.ip.v4)&&w("IPv4 address",b,g(b),"Known"===b?"Ad platforms can geolocate and de-duplicate you via IPv4.":"IPv4 is hidden or unavailable; targeting falls back to softer signals."),v.ip&&v.ip.v6))&&w("IPv6 address",b,g(b),"Known"===b?"IPv6 remains visible; dual-stack campaigns can still identify your device.":"IPv6 is not exposed, which reduces dual-stack targeting confidence."),v.geo))&&w("Location signals",b,g(b),"Estimated"===b?i&&i.geo&&i.geo.string?`Approximate location available (${i.geo.string}).`:"Approximate city/region available for geo targeting.":"Geolocation from IP was not resolved."),v.language))&&w("Browser language",b,g(b),"Known"===b?i&&i.languages&&i.languages.primary?`Browser language exposed (${i.languages.primary}).`:"Browser language is shared for localisation.":"Language preference hidden; ads may default to generic content."),v.topics))&&(S=g(b),x=Array.isArray(i&&i.topics)?i.topics:[],w("Chrome Topics",b,S,"Known"===b?`${x.length} topic ${1===x.length?"ID":"IDs"} exposed by the Topics API.`:"Browser did not provide Topics; interest ads must rely on other signals.")),v.network||"Unknown"))?n="Looks residential; marketers often treat this as a household connection.":"Data-centre/VPN (guess)"===S&&(n="Looks like VPN or hosting traffic; some advertisers reduce targeting confidence."),w("Network fingerprint",S,b=g(S,{"home/office isp (guess)":"high","data-centre/vpn (guess)":"medium"}),n);var b,S=g(x=v.connection||"Unknown"),C="number"==typeof(b=i&&i.connection?i.connection:{}).downlinkMbps?b.downlinkMbps+" Mbps":"unknown speed",k="number"==typeof b.rttMs?b.rttMs+" ms":"unknown latency",x=(S=(w("Connection quality",x,S,"Estimated"===x?`Connection hints shared (${C}, ${k}, Data Saver ${b.saveData?"On":"Off"}).`:"Connection metrics hidden; creatives stay conservative."),v.privacy||{}),[]);C=(S.dnt&&x.push("DNT "+S.dnt.toLowerCase()),S.gpc&&x.push("GPC "+S.gpc.toLowerCase()),S.cookies&&x.push("Cookies "+S.cookies.toLowerCase()),!!(i&&i.connection&&i.connection.saveData)),v=(b=!!((k=(x.push("Data Saver "+(C?"on":"off")),i&&i.privacy?i.privacy:{})).dnt||k.gpc||C||"boolean"==typeof k.cookiesEnabled&&!k.cookiesEnabled))?"protect":"high",S=b?"Privacy signals reduce ad precision or limit tracking.":"No explicit privacy signals; ad tech can operate at full strength.",i=(w("Privacy signals",x.join(" • "),v,S),e.reduce((e,n)=>(e[n.level]=(e[n.level]||0)+1,e),{})),C=[];i.high&&C.push(i.high+" high exposure"),i.medium&&C.push(i.medium+" medium exposure"),i.low&&C.push(i.low+" low exposure"),i.protect&&C.push(i.protect+" protective signal"+(1===i.protect?"":"s")),r.textContent=C.length?C.join(" • "):"Status available",f.innerHTML="",e.forEach(e=>{var n,t=document.createElement("li");(n=((n=(t.className="ad-status-card ad-status-card--"+e.level,document.createElement("span"))).className="ad-status-card__label",n.textContent=e.label,t.appendChild(n),document.createElement("span"))).className="ad-status-card__value",n.textContent=e.value,t.appendChild(n),e.description&&((n=document.createElement("p")).className="ad-status-card__description",n.textContent=e.description,t.appendChild(n)),f.appendChild(t)}),e.length||(f.innerHTML='<li class="ad-status-empty">Signal status not available in this browser.</li>')}else r.textContent="Not available",f.innerHTML='<li class="ad-status-empty">Signal status not available in this browser.</li>';k=n&&n.fingerprints?n.fingerprints:{},s&&(b=[],k.canvas&&k.canvas.hash&&b.push("Canvas hash ready"),k.webgl&&k.webgl.hash&&b.push("WebGL hash ready"),k.audio&&k.audio.hash&&b.push("Audio hash ready"),"boolean"==typeof k.adBlock&&b.push(k.adBlock?"Ad blocker detected":"Ad blocker not detected"),k.privateMode&&"boolean"==typeof k.privateMode.private&&b.push(k.privateMode.private?"Private mode likely":"Private mode unlikely"),s.textContent=b.length?b.join(" • "):"No fingerprint data collected"),d&&(w=k.canvas||{},d.textContent=w.hash||(!1===w.supported?"Not supported":"Unavailable")),c&&(x=k.webgl||{},c.textContent=x.hash||(!1===x.supported?"Not supported":"Unavailable")),u&&(v=k.audio||{},u.textContent=v.hash||(v.error?`Unavailable (${v.error})`:!1===v.supported?"Not supported":"Unavailable")),p&&("boolean"==typeof k.adBlock?p.textContent=k.adBlock?"Likely enabled":"Not detected":p.textContent="Unknown"),m&&("boolean"==typeof(S=k.privateMode||{}).private?m.textContent=S.private?"Likely (quota constrained)":"Unlikely (normal quota)":!1===S.supported?m.textContent="Not supported":S.error?m.textContent=`Unavailable (${S.error})`:m.textContent="Unknown"),e?(l("ad-topics",(i=e&&e.signals&&Array.isArray(e.signals.topics)?e.signals.topics:[]).length?i.length+" topic "+(1===i.length?"ID":"IDs"):"Not available"),t&&(t.innerHTML="",i.length?i.forEach(e=>{var n=document.createElement("li"),a="number"==typeof e.topic?e.topic:"unknown";n.textContent=`Topic ID ${a} (taxonomy ${e.taxonomyVersion??"N/A"}, model ${e.modelVersion??"N/A"})`,t.appendChild(n)}):t.innerHTML='<li class="ad-topics-empty">Browser did not provide Topics (feature disabled or unsupported).</li>'),l("ad-categories",(r=(C=Array.isArray(e.categories)?e.categories:[]).filter(e=>0<("number"==typeof e.norm?e.norm:e.score||0))).length?r.map(e=>e.label).join(", "):"No matches yet"),a&&(a.innerHTML="",C.length?C.forEach(e=>{var n=document.createElement("div"),t=(n.className="ad-category-card",document.createElement("div")),o=(t.className="ad-category-card__header",document.createElement("span"));o.className="ad-category-card__title",o.textContent=e.label,t.appendChild(o);let r=null;if("number"==typeof e.norm&&Number.isFinite(e.norm)?r=Math.round(Math.max(0,Math.min(100,e.norm))):"number"==typeof e.score&&Number.isFinite(e.score)&&(r=Math.round(Math.max(0,Math.min(100,e.score)))),null!==r&&((o=document.createElement("span")).className="ad-category-card__score",o.textContent="Score "+r,t.appendChild(o)),n.appendChild(t),(o=document.createElement("div")).className="ad-category-card__bar",(t=document.createElement("span")).className="ad-category-card__barFill",t.style.width=`${null!==r?r:0}%`,o.appendChild(t),n.appendChild(o),(t=Array.isArray(e.because)?e.because:[]).length){let e=document.createElement("ul");e.className="ad-category-card__why",t.slice(0,6).forEach(n=>{var t=document.createElement("li");t.textContent=n,e.appendChild(t)}),n.appendChild(e)}a.appendChild(n)}):a.innerHTML='<div class="ad-category-card ad-category-card--empty">No categories yet.</div>'),l("ad-summary",r.length?"Generated from local signals":"Generated (low confidence)"),o&&(o.textContent=e.summary||"Advertising summary is not available."),s=Array.isArray(e.keywords)?e.keywords:[],h&&(d=e.context&&e.context.hasUserText,h.textContent=d?"Auto-scanned + your text":"Auto-scanned"),y&&(y.innerHTML="",s.length?s.slice(0,12).forEach(e=>{var n,t=e.term||e.keyword||(Array.isArray(e)?e[0]:null);e=e.count??(Array.isArray(e)?e[1]:null);t&&((n=document.createElement("span")).className="ad-context-tag",n.textContent=e?t+" ×"+e:t,y.appendChild(n))}):((c=document.createElement("span")).className="ad-context-tag ad-context-tag--empty",c.textContent="No keywords detected yet",y.appendChild(c))),n&&n.context&&(n.context.keywords=s,e.context)&&"string"==typeof e.context.combinedText&&(n.context.combinedText=e.context.combinedText)):(l("ad-topics","Not available"),t&&(t.innerHTML='<li class="ad-topics-empty">Topics not available in this browser.</li>'),l("ad-categories","Not available"),a&&(a.innerHTML='<div class="ad-category-card ad-category-card--empty">No categories yet.</div>'),l("ad-summary","Not available"),o&&(o.textContent="Advertising summary is not available in this browser."),h&&(h.textContent="Auto-scanned"),y&&(y.innerHTML='<span class="ad-context-tag ad-context-tag--empty">No keywords detected yet</span>'))}async function y(){var e={timestamp:(new Date).toISOString(),network:{},browser:{},system:{},connection:{},privacy:{},features:{},fingerprints:{},context:{baseText:"",userText:"",combinedText:"",keywords:[]}};let n=null,t=!1,a=null,o=!1;var r="undefined"==typeof window||"boolean"!=typeof window.isSecureContext||window.isSecureContext,c=(document.querySelector("main")?.innerText||document.body?.innerText||"").trim();e.context.baseText=c,e.context.combinedText=c;try{if(N=await i("https://api.ipify.org?format=json")){e.network.ipv4=N.ip,n=N.ip,l("ipv4",N.ip),t=!0;try{(A=await i(`https://dns.google/resolve?name=${N.ip.split(".").reverse().join(".")}.in-addr.arpa&type=PTR`))&&A.Answer&&A.Answer[0]?(l("reverse-dns",y=A.Answer[0].data),a=y,o=!0,e.network.reverseDns=y):(l("reverse-dns","—","No PTR record found"),o=!0)}catch(c){l("reverse-dns","—","Reverse DNS lookup unavailable (blocked or timed out)"),o=!0}}else l("ipv4","—","IPv4 lookup timed out — trying alternate sources…"),t=!0}catch(c){l("ipv4","—","IPv4 lookup blocked by network or privacy tools — trying alternate sources…"),t=!0}try{(v=await i("https://api64.ipify.org?format=json"))&&v.ip&&v.ip.includes(":")?(e.network.ipv6=v.ip,l("ipv6",v.ip)):(e.network.ipv6=null,l("ipv6","—","Not available (IPv6 not configured)"))}catch(c){e.network.ipv6=null,l("ipv6","—","Not available")}try{let r,s=await i("https://ipapi.co/json/"),d=s?"ipapi.co":null;s||(s=await i("https://ipinfo.io/json"))&&!s.error&&(d="ipinfo.io"),s||!(r=await i("https://ipwho.is/"))||void 0!==r.success&&!r.success||(d="ipwho.is",s={org:r.connection?.org||r.connection?.isp||r.connection?.domain||null,isp:r.connection?.isp||r.connection?.org||null,asn:r.connection?.asn||null,country_name:r.country||r.country_code,country:r.country_code,region:r.region||r.regionName,city:r.city,ip:r.ip,hostname:r.connection?.domain||null}),s?(C=s.org||s.isp||"—",f="object"==typeof s.asn&&s.asn?.asn?s.asn.asn:s.asn||(s.org?s.org.split(" ")[0]:"—"),S=s.country_name||s.country||"—",b=s.region||s.regionName||"—",w=s.city||"—",e.network.isp=C,e.network.asn=f,e.network.country=S,e.network.region=b,e.network.city=w,l("isp",C+(f&&"—"!==f?` (ASN: ${f})`:"")),l("location",(x=[w,b,S].filter(e=>e&&"—"!==e)).length?x.join(", "):"—"),l("network-type",k=(e=>{if(!e)return"—";let n=e.toLowerCase();return["aws","amazon","google","gcp","azure","microsoft","cloudflare","ovh","hetzner","digitalocean","linode","vultr","rackspace","oracle cloud"].some(e=>n.includes(e))?"Likely data-center/VPN":"Likely home/office ISP"})(C)),e.network.networkType=k,E=s.ip||s.ip_address||(Array.isArray(s.ip_addresses)?s.ip_addresses[0]:null),!n&&E&&(n=E,l("ipv4",e.network.ipv4=E,"Recovered via "+(d||"geo lookup")),t=!0),!a&&s.hostname&&(a=s.hostname,e.network.reverseDns=s.hostname,l("reverse-dns",s.hostname,"Provided by geo lookup service"),o=!0),t||(l("ipv4","—","No IP address returned — check VPN or strict network filters."),t=!0),o||a||(l("reverse-dns","—","Reverse DNS not provided by lookup services."),o=!0)):(l("isp","—","ISP lookup blocked — try disabling aggressive content blockers."),l("location","—","Location service unreachable — check connection or retry later."),l("network-type","—","Unable to determine without ISP data."))}catch(c){l("isp","—","ISP lookup blocked — try disabling aggressive content blockers."),l("location","—","Location service unreachable — check connection or retry later."),l("network-type","—","Unable to determine without ISP data.")}t||l("ipv4","—","We could not recover your public IP automatically."),!o&&a?l("reverse-dns",a):o||l("reverse-dns","—","Reverse DNS not available from any provider."),c=document.referrer||"None",l("referrer","None"===(e.network.referrer=c)?"None":c),N=(()=>{let e=navigator.userAgent||"";var n=n=>(n=e.match(n))?n[1]:"";let t="Unknown",a="",o="Unknown";return/Edg\//.test(e)?(t="Microsoft Edge",a=n(/Edg\/([\d.]+)/)):/OPR\//.test(e)||/Opera/.test(e)?(t="Opera",a=n(/(?:OPR|Opera)\/([\d.]+)/)):!/Chrome\//.test(e)||/Edg\//.test(e)||/OPR\//.test(e)?/Safari/.test(e)&&!/Chrome/.test(e)?(t="Safari",a=n(/Version\/([\d.]+)/)):/Firefox\//.test(e)?(t="Firefox",a=n(/Firefox\/([\d.]+)/)):(/MSIE /.test(e)||/Trident\//.test(e))&&(t="Internet Explorer",a=n(/(?:MSIE |rv:)([\d.]+)/)):(t="Google Chrome",a=n(/Chrome\/([\d.]+)/)),/Android/.test(e)?o="Android":/iPhone|iPad|iPod/.test(e)?o="iOS":/Windows/.test(e)?o="Windows":/Mac/.test(e)?o="macOS":/Linux/.test(e)&&(o="Linux"),{browser:(a=navigator.userAgentData&&((n=navigator.userAgentData.platform)&&(o=n),n=(n=navigator.userAgentData.brands||[]).find(e=>e.brand&&!/not.?a.?brand/i.test(e.brand))||n[0])&&("Unknown"===t&&(t=n.brand||t),!a)&&n.version?n.version:a)?(t+" "+a).trim():t,os:o}})(),e.browser.browser=N.browser,e.browser.os=N.os,l("browser",N.browser),l("os",N.os);try{var g=await async function(e){var n,t=navigator.userAgent||"";let a=e;if((e||"").toLowerCase().includes("windows")){let i=null;if(navigator.userAgentData&&"function"==typeof navigator.userAgentData.getHighEntropyValues)try{var{platform:o,platformVersion:r}=await navigator.userAgentData.getHighEntropyValues(["platform","platformVersion"]);(o||"").toLowerCase().includes("windows")&&([n=""]=[r],n=parseInt(n.split(".")[0],10),i=Number.isNaN(n)?null:13<=n?"Windows 11":10<=n?"Windows 10":null)}catch(e){}(i=i||(e=/Windows NT (\d+\.\d+)/i.exec(e=t))&&{"11.0":"Windows 11","10.0":"Windows 10 or later",6.3:"Windows 8.1",6.2:"Windows 8",6.1:"Windows 7","6.0":"Windows Vista",5.2:"Windows XP (64-bit)",5.1:"Windows XP","5.0":"Windows 2000","4.0":"Windows 95/98/NT"}[e[1]]||null)?a=i:"Windows"===a&&(a="Windows (version unknown)")}return a}(N.os);g&&g!==N.os&&l("os",e.browser.os=g)}catch(c){}var y=(A=navigator.languages||[navigator.language]).join(", "),v=(e.browser.languages=A,l("languages",y),Intl.DateTimeFormat().resolvedOptions().timeZone),f=0<=(M=-1*(new Date).getTimezoneOffset())?"+":"-",w=Math.abs(M),b=`UTC${f}${String(Math.floor(w/60)).padStart(2,"0")}:`+String(w%60).padStart(2,"0"),S=v+` (${b})`;e.browser.timezone=v,e.browser.timezoneOffset=b,l("timezone",S);var C,k,x=(new Date).toLocaleString(),E=(l("local-time",e.browser.localTime=x),setInterval(()=>{l("local-time",(new Date).toLocaleString())},1e3),C=window.screen.width,(k=navigator.userAgent.toLowerCase()).includes("mobile")||k.includes("android")||C<768?"Phone":k.includes("tablet")||768<=C&&C<1024?"Tablet":"Desktop"),N=(c=(l("device-type",e.browser.deviceType=E),screen.width+" × "+screen.height),e.browser.screenWidth=screen.width,e.browser.screenHeight=screen.height,l("screen-size",c),window.innerWidth+" × "+window.innerHeight),A=(g=(e.browser.viewportWidth=window.innerWidth,e.browser.viewportHeight=window.innerHeight,l("viewport",N),window.devicePixelRatio||1),l("pixel-ratio",(e.browser.pixelRatio=g).toString()),screen.colorDepth||screen.pixelDepth||"—"),M=(y=(l("color-depth","—"!==(e.browser.colorDepth=A)?A+" bits":"—"),navigator.hardwareConcurrency||"—"),l("cpu-threads","—"!==(e.system.cpuThreads=y)?y.toString():"—","—"!==y?"":"Not available"),navigator.deviceMemory);l("ram",(e.system.ram=M)?function(e){return!e||Number.isNaN(e)?"—":Math.round(2*e)/2+" GB (est.)"}(M):"—",M?"Estimated by browser":"Not available"),f=await async function(){var e={supported:!1,label:"Not available",vendor:null,renderer:null,hash:null,details:null};try{var n,t,a,o,r,i,l,d,c=document.createElement("canvas"),u=c.getContext("webgl")||c.getContext("experimental-webgl");return u&&(e.supported=!0,o=((e,n)=>{var t=e=>{if(!e)return"";let n=e.trim();return e=n.match(/^ANGLE\s*\((.+)\)$/i),n=(n=e?e[1]:n).replace(/Google Inc\.?/gi,"").replace(/Direct3D.*$/i,"").replace(/\(0x[0-9a-fA-F]+\)/g,"").replace(/,\s*$/g,"").replace(/,\s*/g," ").replace(/\s{2,}/g," ").trim(),/^\(.*\)$/.test(n)?n.slice(1,-1).trim():n};let a=t(e),o=t(n);return t=(t=a)?t.replace(/\b(corporation|corp\.|inc\.|inc|ltd\.|ltd|llc|co\.|company|technologies)\b/gi,"").replace(/\s{2,}/g," ").trim():"",o&&t&&o.toLowerCase().includes(t.toLowerCase())&&(a=""),!o&&a&&(o=a,a=""),(t=[a,o].filter(Boolean).join(" "))||[e,n].filter(Boolean).join(" / ")||""})(t=(n=u.getExtension("WEBGL_debug_renderer_info"))?u.getParameter(n.UNMASKED_VENDOR_WEBGL):u.getParameter(u.VENDOR),a=n?u.getParameter(n.UNMASKED_RENDERER_WEBGL):u.getParameter(u.RENDERER)),r=u.getParameter(u.MAX_TEXTURE_SIZE),i=u.getParameter(u.SHADING_LANGUAGE_VERSION),l=u.getParameter(u.ALIASED_LINE_WIDTH_RANGE),d=await s([t||"",a||"",r||"",i||"",Array.isArray(l)?l.join(","):l||""].join("|")),e.vendor=t||"",e.renderer=a||"",e.label=o||(`${t||""} `+(a||"")).trim()||"Available",e.hash=d,e.details={maxTexture:"number"==typeof r?r:null,shadingLanguageVersion:i||null,aliasedLineWidthRange:l||null}),e}catch(n){return e}}(),w=f.label||"Not available",(S=(b=v=(e.system.graphics=w,e.fingerprints.webgl=f,l("graphics",w),navigator.connection||navigator.mozConnection||navigator.webkitConnection))?{type:b.type||"—",effectiveType:b.effectiveType||"—",downlink:b.downlink?b.downlink+" Mbps":"—",rtt:b.rtt?b.rtt+" ms":"—",saveData:b.saveData?"Enabled":"Disabled"}:null)?(l("connection-type",(e.connection=S).type),l("effective-type",S.effectiveType),l("downlink",S.downlink),l("rtt",S.rtt),l("save-data",S.saveData)):(l("connection-type","—","Not available"),l("effective-type","—","Not available"),l("downlink","—","Not available"),l("rtt","—","Not available"),l("save-data","—","Not available")),x=navigator.doNotTrack||"—",l("dnt","1"===(e.privacy.doNotTrack=x)?"Enabled":"0"===x?"Disabled":"Not set"),E=navigator.globalPrivacyControl||!1,l("gpc",(e.privacy.globalPrivacyControl=E)?"Enabled":"Not set"),c=navigator.cookieEnabled,l("cookies",(e.privacy.cookiesEnabled=c)?"Enabled":"Disabled"),N=(()=>{try{var e="__localStorage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),"Available"}catch(e){return"Not available"}})(),l("local-storage",e.privacy.localStorage=N),g=window.matchMedia("(prefers-color-scheme: dark)").matches,l("dark-mode",(e.privacy.darkMode=g)?"Dark":"Light"),A=window.matchMedia("(prefers-reduced-motion: reduce)").matches;l("reduced-motion",(e.privacy.reducedMotion=A)?"Enabled":"Disabled");let P={supported:!(!navigator.mediaDevices||"function"!=typeof navigator.mediaDevices.enumerateDevices),counts:{audioinput:null,audiooutput:null,videoinput:null}};if(P.supported)try{(await navigator.mediaDevices.enumerateDevices()).forEach(e=>{e&&e.kind&&Object.prototype.hasOwnProperty.call(P.counts,e.kind)&&(P.counts[e.kind]=(P.counts[e.kind]||0)+1)}),["audioinput","audiooutput","videoinput"].forEach(e=>{null===P.counts[e]&&(P.counts[e]=0)}),l("microphones",m(P.counts.audioinput)),l("speakers",m(P.counts.audiooutput)),l("webcams",m(P.counts.videoinput))}catch(c){let e=r?!c||"NotAllowedError"!==c.name&&"SecurityError"!==c.name?"Unavailable":"Blocked (permission required)":"Blocked (HTTPS required)";["microphones","speakers","webcams"].forEach(n=>l(n,e)),P.error=e}else["microphones","speakers","webcams"].forEach(e=>l(e,"Not supported in this browser"));e.features.mediaDevices=P,y=(()=>{var e=navigator.maxTouchPoints??0,n="undefined"!=typeof window&&"ontouchstart"in window;let t=(n=0<e||n)?0<e?e+" touch point"+(1===e?"":"s"):"Likely (touch events supported)":"Not detected";return{supported:n,maxTouchPoints:e,label:t}})(),l("touch-support",(e.features.touch=y).supported?y.label:"Not detected"),M=(()=>{if("undefined"==typeof window||"function"!=typeof window.matchMedia)return{label:"Unknown",fine:!1,coarse:!1,none:!1};var e=window.matchMedia("(pointer: fine)").matches||window.matchMedia("(any-pointer: fine)").matches,n=window.matchMedia("(pointer: coarse)").matches||window.matchMedia("(any-pointer: coarse)").matches,t=window.matchMedia("(pointer: none)").matches||window.matchMedia("(any-pointer: none)").matches;let a="Unknown";return e&&n?a="Multiple (mouse & touch)":e?a="Precise pointer (mouse/stylus)":n?a="Touch/limited pointer":t&&(a="No pointer detected"),{label:a,fine:e,coarse:n,none:t}})(),l("pointer-support",(e.features.pointer=M).label),w={support:f="undefined"!=typeof navigator&&"geolocation"in navigator?"undefined"==typeof window||"boolean"!=typeof window.isSecureContext||window.isSecureContext?{available:!0,label:"Available (permission required)"}:{available:!1,requiresSecureContext:!0,label:"Blocked (HTTPS required)"}:{available:!1,label:"Not supported in this browser"},precise:null},e.features.geolocation=w,l("geolocation-support",f.label);let T={supported:!1,state:f.requiresSecureContext?"insecure":"unsupported",label:f.label,coords:null,accuracy:null,timestamp:null,error:f.label,requested:!1};f.available&&(T=await(async e=>{var n={supported:!1,state:"unsupported",label:e?"Permission not requested (site uses IP-based location)":"Blocked (HTTPS required)",coords:null,accuracy:null,timestamp:null,error:null,requested:!1};if(!e)return n.state="insecure",n.error="Secure context required",n;if("undefined"==typeof navigator||!navigator.geolocation)return n.state="unsupported",n.label="Not supported in this browser",n.error="Geolocation API unavailable",n;n.supported=!0;let t="unknown";if(navigator.permissions&&"function"==typeof navigator.permissions.query)try{var a;t=(await navigator.permissions.query({name:"geolocation"})).state}catch(a){t="unknown"}if("granted"!==t)return"denied"===t?(n.state="denied",n.label="Permission previously denied",n.error="Permission previously denied"):"prompt"===t?(n.state="prompt",n.label="Permission not requested (site uses IP-based location)"):(n.state=t||"unknown",n.label="Permission status unknown (not requesting precise location)",n.error=n.label),n;try{n.requested=!0;var o=await new Promise((e,n)=>{navigator.geolocation.getCurrentPosition(e,n,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),{latitude:r,longitude:i,accuracy:l,altitude:s,heading:d,speed:c}=o.coords,u=(n.coords={latitude:r,longitude:i,accuracy:l??null,altitude:s??null,heading:d??null,speed:c??null},n.accuracy=l??null,n.timestamp=o.timestamp||Date.now(),n.state="granted",l?` (±${Math.round(l)} m)`:"");return n.label=r.toFixed(5)+", "+i.toFixed(5)+u,n.error=null,n}catch(a){return e=(a||{}).message||"Unable to retrieve location",n.state="error",n.label="Error: "+e,n.error=e,n}})(r)),l("geolocation-precise",(w.precise=T).label),(S=document.getElementById("geolocation-precise-list"))&&(S.innerHTML="",T.coords?(({latitude:x,longitude:E,accuracy:c,altitude:N,heading:g,speed:A}=T.coords),(y=document.createElement("li")).textContent="Latitude: "+x.toFixed(6),S.appendChild(y),(M=document.createElement("li")).textContent="Longitude: "+E.toFixed(6),S.appendChild(M),"number"==typeof c&&((f=document.createElement("li")).textContent=`Accuracy: ±${Math.round(c)} m`,S.appendChild(f)),"number"==typeof N&&((r=document.createElement("li")).textContent=`Altitude: ${N.toFixed(1)} m`,S.appendChild(r)),"number"!=typeof A||Number.isNaN(A)||((w=document.createElement("li")).textContent=`Speed: ${A.toFixed(2)} m/s`,S.appendChild(w)),"number"!=typeof g||Number.isNaN(g)||((x=document.createElement("li")).textContent=`Heading: ${g.toFixed(0)}°`,S.appendChild(x)),(y=document.createElement("li")).textContent="Timestamp: "+new Date(T.timestamp||Date.now()).toLocaleString(),S.appendChild(y)):((E=document.createElement("li")).className="geo-list-empty",E.textContent=T.label||"Precise location not available.",S.appendChild(E),T.error&&T.error!==T.label&&((M=document.createElement("li")).className="geo-list-note",M.textContent=T.error,S.appendChild(M))),(c=document.createElement("li")).className="geo-list-note",c.textContent="Permission state: "+(T.state||"unknown"),S.appendChild(c)),f=(()=>{if("undefined"!=typeof navigator&&"function"==typeof navigator.javaEnabled)try{var e=navigator.javaEnabled();return{supported:!0,enabled:e,label:e?"Enabled (legacy plugin detected)":"Disabled or not installed"}}catch(e){return{supported:!0,enabled:!1,label:"Unknown (browser blocked check)"}}return{supported:!1,enabled:!1,label:"Not supported in modern browsers"}})(),l("java-enabled",(e.features.java=f).label),N=(()=>{if("undefined"==typeof navigator||!navigator.plugins||void 0===navigator.plugins.length)return null;try{var e=Array.from(navigator.plugins).map(e=>e&&e.name?e.name.trim():"").filter(Boolean);return[...new Set(e)]}catch(e){return null}})(),e.features.plugins={supported:null!==N,names:N||[]},l("plugins",null===(r=N)?"Not supported in this browser":Array.isArray(r)&&0!==r.length?(A=r.slice(0,2).join(", "),w=2<r.length?` +${r.length-2} more`:"",r.length+" detected: "+A+w):"None detected");let L=document.getElementById("plugins-list");if(L&&(L.innerHTML="",null===N?((g=document.createElement("li")).className="plugin-list-empty",g.textContent="Plugin enumeration not supported in this browser.",L.appendChild(g)):0===N.length?((x=document.createElement("li")).className="plugin-list-empty",x.textContent="No legacy plugins detected.",L.appendChild(x)):(N.forEach(e=>{var n=document.createElement("li");n.textContent=e,L.appendChild(n)}),(y=document.createElement("li")).className="plugin-list-note",y.textContent=`${N.length} plugin${1===N.length?"":"s"} detected.`,L.appendChild(y))),document.fonts&&document.fonts.ready&&"function"==typeof document.fonts.ready.then)try{await document.fonts.ready}catch(c){}E=(()=>{let e={supported:!1,blocked:!1,available:[],totalTested:u.length,methods:[],error:null};if("undefined"!=typeof document&&"function"==typeof document.createElement&&document.body){let n=document.fonts&&"function"==typeof document.fonts.check,t=(n&&e.methods.push("FontFaceSet"),document.createElement("div"));t.style.position="absolute",t.style.visibility="hidden",t.style.pointerEvents="none",t.style.whiteSpace="nowrap",t.style.top="-9999px",t.style.left="-9999px",t.style.fontSize="72px",document.body.appendChild(t);try{let a={};d.forEach(e=>{var n=document.createElement("span");n.style.fontFamily=e,n.textContent=p,t.appendChild(n),a[e]=n.offsetWidth,t.removeChild(n)}),e.methods.push("DOM"),e.supported=!0,u.forEach(o=>{let r=!1;if(n)try{r=document.fonts.check(`16px "${o}"`)||document.fonts.check(`700 16px "${o}"`)}catch(o){o&&"SecurityError"===o.name&&(e.blocked=!0)}if(!r)for(var i of d){var l=((s=document.createElement("span")).style.fontFamily=`"${o}", `+i,s.textContent=p,t.appendChild(s),s.offsetWidth),s=(t.removeChild(s),a[i]);if("number"==typeof l&&"number"==typeof s&&.5<Math.abs(l-s)){r=!0;break}}r&&e.available.push(o)}),e.available=[...new Set(e.available)].sort((e,n)=>e.localeCompare(n)),e.blocked&&0===e.available.length&&(e.supported=!1,e.error="Protected (browser blocked enumeration)")}catch(n){e.supported=!1,e.error="Font detection failed"}finally{t&&t.parentNode&&t.parentNode.removeChild(t)}}else e.error="Not supported in this environment";return e})(),l("fonts",(e.features.fonts=E).supported?`${E.available.length} / ${E.totalTested} detected`:E.error||"Not supported in this browser");let I=document.getElementById("fonts-installed-list");I&&(I.innerHTML="",E.supported&&E.available.length?E.available.forEach(e=>{var n=document.createElement("li");n.textContent=e,I.appendChild(n)}):((M=document.createElement("li")).className="font-list-empty",M.textContent=E.supported?"None detected from the tested list.":E.error||"Font detection not supported.",I.appendChild(M)),E.supported)&&((S=document.createElement("li")).className="font-list-note",S.textContent=`Tested ${E.totalTested} common fonts.`,I.appendChild(S));var[c,f,r,g]=await Promise.all([new Promise(e=>{try{let n=document.createElement("div");n.className="adsbox adsbygoogle banner-ad ad-unit",n.style.cssText="position:absolute; left:-9999px; top:-9999px; width:1px; height:1px; pointer-events:none;",document.body.appendChild(n),requestAnimationFrame(()=>{var t=window.getComputedStyle(n);t=null===n.offsetParent||"none"===t.display||"hidden"===t.visibility||0===n.clientHeight||0===n.clientWidth;n.remove(),e(t)})}catch(n){e(!1)}}),(async()=>{var e={supported:!1,hash:null,sample:null};try{var n,t=document.createElement("canvas"),a=(t.width=300,t.height=150,t.getContext("2d"));return a&&(e.supported=!0,a.textBaseline="top",a.font="16px 'Segoe UI', Tahoma, sans-serif",a.fillStyle="#f60",a.fillRect(130,1,62,20),a.fillStyle="#069",a.fillText("canvas-fp",4,32),a.globalCompositeOperation="multiply",a.fillStyle="#0a0",a.beginPath(),a.arc(75,75,60,0,2*Math.PI),a.fill(),a.globalCompositeOperation="overlay",a.fillStyle="#00f",a.beginPath(),a.arc(120,75,60,0,2*Math.PI),a.fill(),a.globalCompositeOperation="source-over",n=t.toDataURL(),e.hash=await s(n),e.sample=n.slice(0,48)+"..."),e}catch(n){return e}})(),(async()=>{var e={supported:!1,hash:null,error:null};try{var n,t,a,o,r,i=window.OfflineAudioContext||window.webkitOfflineAudioContext;return"function"!=typeof i?e.error="Unsupported":(t=(n=new i(1,44100,44100)).createOscillator(),a=n.createDynamicsCompressor(),t.type="triangle",t.frequency.value=1e3,t.connect(a),a.connect(n.destination),t.start(0),o=(await n.startRendering()).getChannelData(0).slice(0,512),r=Array.from(o).map(e=>e.toFixed(3)).join(","),e.supported=!0,e.hash=await s(r)),e}catch(n){return e.error=n&&n.message?n.message:"Unavailable",e}})(),(async()=>{var e={supported:!1,private:null,quota:null,usage:null,error:null};if(!navigator.storage||"function"!=typeof navigator.storage.estimate)return e;try{var n=await navigator.storage.estimate();return e.supported=!0,e.quota="number"==typeof n.quota?n.quota:null,e.usage="number"==typeof n.usage?n.usage:null,e.private="number"==typeof n.quota?n.quota<125829120:null,e}catch(n){return e.error=n&&n.message?n.message:"Unavailable",e}})()]);if(e.fingerprints.canvas=f,e.fingerprints.audio=r,e.fingerprints.adBlock=c,"boolean"==typeof(e.fingerprints.privateMode=g).private&&(e.privacy.privateMode=g.private),e.privacy.privateModeSupported=!!g.supported,"function"==typeof buildAdInsights)try{var D=await buildAdInsights(e);h(e.advertising=D,e)}catch(c){console.warn("Failed to build advertising insights:",c),h(null,e)}else h(null,e);return e}function v(e){if(w){let n=e&&e.target?e.target.value:"";w.context=w.context||{},w.context.userText=n,b&&clearTimeout(b),b=setTimeout(()=>{(async e=>{if("function"==typeof buildAdInsights&&w){var n={};Object.prototype.hasOwnProperty.call(e,"userText")&&(w.context=w.context||{},w.context.userText=e.userText,n.userText=e.userText);try{var t=await buildAdInsights(w,n);h(w.advertising=t,w)}catch(e){console.warn("Failed to update advertising insights:",e)}}})({userText:n})},f)}}let f=250,w=null,b=null,S="thewebknows-theme",C=window.matchMedia("(prefers-color-scheme: dark)");function k(e,n=!1){var t=document.documentElement;if(t){t.setAttribute("data-mode",e);var a=document.body;if(a&&a.setAttribute("data-mode",e),n)try{localStorage.setItem(S,e)}catch(e){console.warn("Failed to save theme preference:",e)}(t=document.getElementById("theme-toggle"))&&((n=t.querySelector(".theme-toggle__label"))&&(n.textContent="dark"===e?"Light":"Dark"),t.setAttribute("aria-pressed","dark"===e?"true":"false"),t.setAttribute("aria-label","dark"===e?"Switch to light mode":"Switch to dark mode"))}}async function x(){{let e="light";try{e="dark"===(t=localStorage.getItem(S))||"light"===t?t:C.matches?"dark":"light"}catch(t){e=C.matches?"dark":"light"}k(e,!1)}document.querySelectorAll(".info-help").forEach(e=>{e&&(e.dataset.defaultHelp=e.textContent||"")}),document.querySelectorAll(".info-value[aria-live]").forEach(e=>{var n=(e.textContent||"").trim();n&&"—"!==n||(e.textContent="Detecting…",e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"))});var e=function(){"undefined"!=typeof EXPLANATIONS&&Object.keys(EXPLANATIONS).forEach(e=>{var n=EXPLANATIONS[e],t=(n,t)=>{(n=document.getElementById(e+"-"+n))&&(n.textContent=t||"—")};t("explanation",n.what),t("legal",n.legal),t("malicious",n.malicious),t("accuracy",n.accuracy),t("hide",n.hide)})};window.__applyExplanations=e,e();var n=function(){return n.__promise?n.__promise:n.__promise=new Promise((e,n)=>{if("undefined"!=typeof EXPLANATIONS)return window.__applyExplanations&&window.__applyExplanations(),e(EXPLANATIONS);var t=document.createElement("script");t.src="/explanations.js",t.async=!0,t.onload=()=>{window.__applyExplanations&&window.__applyExplanations(),e(EXPLANATIONS)},t.onerror=()=>n(new Error("Failed to load explanations.js")),document.head.appendChild(t)})};document.querySelectorAll(".info-explanation-collapsible summary").forEach(e=>{var t=()=>{n(),e.removeEventListener("click",t)};e.addEventListener("click",t)}),document.querySelectorAll(".info-explanation-collapsible").forEach(e=>{var t=()=>{e.open&&n(),e.removeEventListener("toggle",t)};e.addEventListener("toggle",t)}),"function"==typeof window.requestIdleCallback?requestIdleCallback(()=>n()):setTimeout(()=>n(),2e3);{let e=document.getElementById("behavioral-leaks");if(e){let n=[];var t="undefined"!=typeof HIDDEN_SHARES&&Array.isArray(HIDDEN_SHARES)?HIDDEN_SHARES:[],a="undefined"!=typeof EVERYDAY_LEAKS&&Array.isArray(EVERYDAY_LEAKS)?EVERYDAY_LEAKS:[];t.forEach(e=>{n.push({id:e.id,title:e.type,details:[{label:"How it leaks",text:e.innocentShare},{label:"Misuse risk",text:e.maliciousUse},{label:"Protect",text:e.protection},{label:"Example",text:e.example}]})}),a.forEach(e=>{n.push({id:e.id,title:e.title,details:[{label:"How it leaks",text:e.how},{label:"Reduce risk",text:e.reduce}]})}),e.textContent="",n.forEach(n=>{var t=document.createElement("div"),a=((a=(t.className="info-item leak-item",t.setAttribute("data-leak-id",n.id),t.setAttribute("role","listitem"),document.createElement("div"))).className="info-label",a.textContent=n.title,t.appendChild(a),Array.isArray(n.details)?n.details.filter(e=>e&&e.text):[]),o=((n=a[0])?((o=document.createElement("div")).className="info-value leak-item__value",(r=document.createElement("span")).className="leak-item__value-label",r.textContent=n.label,o.appendChild(r),(r=document.createElement("p")).className="leak-item__value-text",r.textContent=n.text,o.appendChild(r),t.appendChild(o)):((r=document.createElement("div")).className="info-value leak-item__value",r.textContent="—",t.appendChild(r)),n?a.slice(1):a);if(0<o.length){var r=document.createElement("details");(a=((n=(r.className="info-explanation-collapsible",document.createElement("summary"))).className="leak-item__summary",n.append(document.createTextNode("Learn More")),document.createElement("span"))).className="collapse-icon",a.setAttribute("aria-hidden","true"),a.textContent="+",n.appendChild(a),r.appendChild(n);let e=document.createElement("div");e.className="info-explanation",o.forEach(n=>{var t;(t=((t=document.createElement("h4")).textContent=n.label,e.appendChild(t),document.createElement("p"))).textContent=n.text,e.appendChild(t)}),r.appendChild(e),t.appendChild(r)}e.appendChild(t)})}}{let e=document.querySelector(".site-header");if(e){let n=window.matchMedia("(max-width: 768px)"),t=40,o=10,r=!1,i=!1,l=!1,s=null,d=n=>{i!==n&&(i=n,e.classList.toggle("header--collapsed",n))},c=e=>{r&&(e>t?d(!0):e<=o&&d(!1))},u=()=>{(r=n.matches)?c(window.scrollY||window.pageYOffset||0):d(!1)};a=()=>{u()},window.addEventListener("scroll",()=>{if(r){let e=window.scrollY||window.pageYOffset||0;l||(l=!0,window.requestAnimationFrame(()=>{c(e),l=!1}))}},{passive:!0}),"function"==typeof n.addEventListener?n.addEventListener("change",a):"function"==typeof n.addListener&&n.addListener(a),window.addEventListener("resize",()=>{s&&window.clearTimeout(s),s=window.setTimeout(u,180)}),window.addEventListener("orientationchange",u),u()}}!function(){try{var e=Array.from(document.querySelectorAll(".site-header .nav-row a"));if(!e.length)return;e.forEach(function(e){e.removeAttribute("aria-current")});var n="/";try{var t=window.location&&window.location.pathname?window.location.pathname:"/";n="/"===t||""===t?"/":0===t.indexOf("/glossary/")||"/glossary/"===t?"/glossary/":0===t.indexOf("/insights/")||"/insights/"===t?"/insights/":"/"}catch(e){n="/"}var a="";try{a=window.location.origin}catch(e){a=""}var o=e.find(function(e){try{var t=e.getAttribute("href")||"";return!!t&&new URL(t,a).pathname===n}catch(e){return!1}});o||(o=e.find(function(e){var t=e.getAttribute("href")||"";return t===n||t.replace(/\/+$/,"")===n.replace(/\/+$/,"")})),o&&o.setAttribute("aria-current","page")}catch(e){}}(),function(){try{var e=document.querySelectorAll(".site-header .nav-row a.nav-link");e&&e.forEach(function(e){e.classList.remove("nav-link"),e.classList.add("header-nav-link")})}catch(e){}}();var o=((o=document.getElementById("theme-toggle"))&&o.addEventListener("click",()=>{var e=document.documentElement;k("dark"===(e&&e.getAttribute("data-mode")||"light")?"light":"dark",!0)}),w=await y(),document.getElementById("ad-context-input"));o&&o.addEventListener("input",v)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",x):x()})();