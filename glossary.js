(()=>{var v=Array.isArray(window.glossaryData)?window.glossaryData:[];if(v.length){let u=document.getElementById("glossary-list"),y=document.getElementById("glossary-empty"),g=document.getElementById("glossary-search-input"),h=document.querySelector('.search-clear-button[data-target="glossary-search-input"]'),f=document.getElementById("glossary-topic-select"),w=document.querySelector(".glossary-alpha");if(u&&y&&g&&f&&w){var A="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");let e=y.dataset.emptyMessage||"No terms match your filters yet. Try a different letter, topic, or keyword.",t=!1,a=(()=>{var t={origin:"https://thewebknows.pages.dev",canonicalUrl:"https://thewebknows.pages.dev/glossary/"},e=document.head||null;let r=null;e&&(e=e.querySelector('link[rel="canonical"]'))&&e.href&&(r=e.href);try{r=r||(window.location?window.location.href:t.canonicalUrl);var a=new URL(r,window.location&&window.location.href?window.location.href:t.canonicalUrl);return a.pathname.endsWith("/")||(a.pathname=a.pathname+"/"),{origin:a.origin||t.origin,canonicalUrl:a.toString()}}catch(e){return t}})(),n={letters:new Set(["all"]),topic:"all",query:"",tokens:[]},s={escapeHtml(e){return e.replace(/[&<>"']/g,function(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&#39;";default:return e}})},escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},highlight(e,t){if(!t.length||!e)return s.escapeHtml(e||"");t=Array.from(new Set(t.filter(Boolean)));if(!t.length)return s.escapeHtml(e||"");var r,a=new RegExp(t.map(s.escapeRegExp).join("|"),"gi");let i=0,n="";for(;null!==(r=a.exec(e));)r.index>i&&(n+=s.escapeHtml(e.slice(i,r.index))),n+=`<mark>${s.escapeHtml(r[0])}</mark>`,i=a.lastIndex;return i<e.length&&(n+=s.escapeHtml(e.slice(i))),n},normalise(e){return(e||"").trim().toLowerCase()},getInitialChar(e){e=(e||"").trim().match(/[A-Za-z0-9]/);return e?e[0].toUpperCase():""}},o="undefined"!=typeof GlossaryUtils&&GlossaryUtils||null,d=o&&"function"==typeof o.normalizeAlphaNumeric?o.normalizeAlphaNumeric:function(e){return(e||"").toLowerCase().replace(/[^a-z0-9]+/g,"")};var k=o&&"function"==typeof o.createEntries?o.createEntries:null;let l=o&&"function"==typeof o.buildArticleUrl?o.buildArticleUrl:function(e){return e?`/privacy-insights/${encodeURIComponent(e)}/`:"/privacy-insights/"},r=[{id:"ipv4",title:"Public IP (IPv4)",keywords:["ipv4 address","public ip","ip address"]},{id:"ipv6",title:"Public IP (IPv6)",keywords:["ipv6 address","ipv6","temporary ipv6"]},{id:"isp",title:"ISP / ASN",keywords:["internet service provider","asn","autonomous system"]},{id:"location",title:"Location (IP-based)",keywords:["ip geolocation","geoip","location"]},{id:"referrer",title:"Referrer",keywords:["referer header","referrer header"]},{id:"network-type",title:"Network type (guess)",keywords:["network type","vpn detection"]},{id:"reverse-dns",title:"Reverse DNS",keywords:["ptr record","reverse dns"]},{id:"browser",title:"Browser & version",keywords:["browser","user agent"]},{id:"os",title:"Operating system",keywords:["operating system","os"]},{id:"languages",title:"Preferred languages",keywords:["accept-language","browser languages"]},{id:"timezone",title:"Time zone",keywords:["timezone","time zone"]},{id:"local-time",title:"Local time",keywords:["local time"]},{id:"device-type",title:"Device type",keywords:["device type"]},{id:"screen-size",title:"Screen size",keywords:["screen size","display size"]},{id:"viewport",title:"Viewport",keywords:["viewport size"]},{id:"pixel-ratio",title:"Pixel ratio",keywords:["device pixel ratio","pixel ratio"]},{id:"color-depth",title:"Color depth",keywords:["color depth"]},{id:"cpu-threads",title:"CPU threads",keywords:["cpu threads","hardware concurrency"]},{id:"ram",title:"RAM estimate",keywords:["ram","device memory"]},{id:"graphics",title:"Graphics",keywords:["graphics","gpu","webgl"]},{id:"microphones",title:"Microphones detected",keywords:["microphones","audio inputs"]},{id:"speakers",title:"Audio outputs detected",keywords:["speakers","audio outputs"]},{id:"webcams",title:"Cameras detected",keywords:["webcams","cameras"]},{id:"geolocation-support",title:"Geolocation API",keywords:["geolocation api","geolocation support"]},{id:"geolocation-precise",title:"Device geolocation",keywords:["precise location","latitude longitude"]},{id:"touch-support",title:"Touch support",keywords:["touch support","max touch points"]},{id:"pointer-support",title:"Pointer input",keywords:["pointer input"]},{id:"fonts",title:"Fonts (tested set)",keywords:["fonts","font enumeration"]},{id:"java-enabled",title:"Java plugin",keywords:["java plugin"]},{id:"plugins",title:"Browser plugins",keywords:["plugins","browser plugins"]},{id:"connection-type",title:"Connection type",keywords:["connection type","network information"]},{id:"effective-type",title:"Effective type",keywords:["effective connection type"]},{id:"downlink",title:"Download speed",keywords:["downlink","bandwidth"]},{id:"rtt",title:"Round-trip time",keywords:["latency","round trip time","rtt"]},{id:"save-data",title:"Data saver mode",keywords:["save-data","data saver"]},{id:"dnt",title:"Do Not Track",keywords:["do not track","dnt"]},{id:"gpc",title:"Global Privacy Control",keywords:["global privacy control","gpc"]},{id:"cookies",title:"Cookies enabled",keywords:["cookies"]},{id:"local-storage",title:"Local storage",keywords:["localstorage","local storage"]},{id:"dark-mode",title:"Dark mode preference",keywords:["dark mode"]},{id:"reduced-motion",title:"Reduced motion",keywords:["reduced motion"]}],i=r.map(e=>{let t=new Set;t.add(e.id),t.add(e.id.replace(/-/g," ")),t.add(e.title),t.add(e.title.replace(/\s*\([^)]*\)\s*/g," ").replace(/\s{2,}/g," ")),Array.isArray(e.keywords)&&e.keywords.forEach(e=>t.add(e));var r=Array.from(t).filter(Boolean),a=r.map(e=>d(e)).filter(Boolean);return{id:e.id,title:e.title,aliases:r,normalizedAliases:a}}),c=(k?k(v):v.map((e,t)=>{var r=e.term||"",a=(e=>{if(o&&"function"==typeof o.extractAliases)return o.extractAliases(e);let t=new Set;if(!e)return[];let r=e.trim().toLowerCase(),a=e=>{e&&(e=e.trim())&&e.toLowerCase()!==r&&t.add(e)};for(var i,n=/\(([^)]+)\)/g;null!==(i=n.exec(e));)i[1].split(/[,/]| or | and /i).forEach(e=>a(e));var l=e.replace(n," ");return[e,l].forEach(e=>{e&&(e.split("/").forEach(e=>a(e)),e.split(",").forEach(e=>a(e)))}),Array.from(t)})(r),i=[r].concat(a),n=i.map(e=>{e=(e||"").trim();if(!e)return null;var t=s.escapeRegExp(e),e=/^[a-z0-9]+$/i.test(e);let r=t.replace(/\s+/g,"\\s+");e&&(r=`\\b${t}\\b`);try{return new RegExp(r,"i")}catch(e){return null}}).filter(Boolean),l=i.map(e=>d(e)).filter(Boolean);return{id:t,term:r,definition:e.definition||"",topic:e.topic||"General",aliases:a,allNames:i,patterns:n,normalizedNames:l,slug:s.normalise(r||"term-"+(t+1)).replace(/\s+/g,"-")}})).map((e,t)=>{var r=[e.term,e.definition].concat(e.aliases||[]),r=s.normalise(r.join(" "));return{id:t,term:e.term,definition:e.definition,topic:e.topic,aliases:Array.isArray(e.aliases)?e.aliases:[],allNames:Array.isArray(e.allNames)?e.allNames:[e.term],patterns:Array.isArray(e.patterns)?e.patterns:[],normalizedNames:Array.isArray(e.normalizedNames)?e.normalizedNames:[],slug:e.slug,searchText:r,sortKey:s.normalise(e.term).replace(/^[^a-z0-9]+/i,""),firstChar:s.getInitialChar(e.term),element:null,dom:null,relatedArticles:[],toolReferences:[],isVisible:!1}});k=c,Array.isArray(k)&&k.length&&k.forEach(e=>{let t=Array.isArray(e.normalizedNames)?e.normalizedNames:[];var r=i.filter(e=>e.normalizedAliases.some(r=>t.some(e=>{return t=r,!!((e=e)&&t&&(e===t||e.length>=t.length+2&&e.includes(t)||e.length+2<=t.length&&t.includes(e)&&3<=e.length));var t})));e.toolReferences=r});v=c;if(Array.isArray(v)&&v.length){k="undefined"!=typeof ARTICLES_DATA&&Array.isArray(ARTICLES_DATA)?ARTICLES_DATA:Array.isArray(window.ARTICLES_DATA)?window.ARTICLES_DATA:[];if(k.length){let t=k.map(e=>{var t=[e.title,e.excerpt,e.category].filter(Boolean).join(" ").toLowerCase();return{meta:e,text:t}});v.forEach(e=>{let i=Array.isArray(e.patterns)?e.patterns:[];if(i.length){let r=[],a=new Set;t.forEach(t=>{var e;i.some(e=>e&&e.test(t.text))&&(e=t.meta.slug||t.meta.id||t.meta.title,a.has(e)||(a.add(e),r.push(t.meta)))}),e.relatedArticles=r.slice(0,5)}else e.relatedArticles=[]})}}c.sort((e,t)=>e.sortKey===t.sortKey?e.term.localeCompare(t.term):e.sortKey.localeCompare(t.sortKey));k=c;if(Array.isArray(k)&&k.length){v=document.head;if(v){var C=(document.title||"Privacy Glossary").trim(),b=v.querySelector('meta[name="description"]'),b=b&&b.getAttribute("content")?b.getAttribute("content").trim():"Explore definitions of privacy, security, and advertising terms.",E=a.canonicalUrl+"#page";let r=a.canonicalUrl+"#terms";var _=a.canonicalUrl+"#item-list",L=a.origin+"/#website",x=k.map((e,t)=>{var r;return e&&e.term?(r=a.canonicalUrl+"#glossary-"+e.slug,{"@type":"ListItem",position:t+1,name:e.term,url:r}):null}).filter(Boolean),S=k.map(e=>{var t;return e&&e.term?(t={"@type":"DefinedTerm","@id":t=a.canonicalUrl+"#glossary-"+e.slug,name:e.term,description:e.definition||"",url:t,inDefinedTermSet:r},Array.isArray(e.aliases)&&e.aliases.length&&(t.alternateName=e.aliases.slice(0,8)),e.topic&&(t.subjectOf=t.subjectOf||[],t.subjectOf.push({"@type":"Thing",name:e.topic})),Array.isArray(e.relatedArticles)&&e.relatedArticles.length&&(e=e.relatedArticles.slice(0,3).map(e=>{var t=e&&(e.slug||e.id);return t?{"@type":"Article","@id":(t=a.origin+`/privacy-insights/${t}/`)+"#article",name:e.title||"",url:t}:null}).filter(Boolean)).length&&(t.subjectOf=(t.subjectOf||[]).concat(e)),t.subjectOf&&t.subjectOf.length||delete t.subjectOf,t):null}).filter(Boolean),E={"@context":"https://schema.org","@graph":[{"@type":"CollectionPage","@id":E,url:a.canonicalUrl,name:C,description:b,inLanguage:"en",isPartOf:{"@id":L}},{"@type":"ItemList","@id":_,name:"Privacy Glossary Terms",itemListOrder:"https://schema.org/ItemListUnordered",numberOfItems:k.length,itemListElement:x},{"@type":"DefinedTermSet","@id":r,name:"The Web Knows Privacy Glossary",inLanguage:"en",hasDefinedTerm:S}]};let e=(()=>{var e=document.head;if(e){var t=e.querySelectorAll('script[type="application/ld+json"]');for(let e=0;e<t.length;e+=1){var r=t[e];if(r.textContent&&r.textContent.includes("/glossary/#page"))return r}}return null})();e||((e=document.createElement("script")).type="application/ld+json",v.appendChild(e)),e.setAttribute("data-glossary-ld","true"),e.textContent=JSON.stringify(E,null,2)}}Array.from(new Set(c.map(e=>e.topic))).sort((e,t)=>e.localeCompare(t)).forEach(e=>{var t=document.createElement("option");t.value=e,t.textContent=e,f.appendChild(t)});let m=new Map,p=(A.map(e=>({value:e,label:e})).concat([{value:"all",label:"All"},{value:"numeric",label:"0â€“9"}]).forEach(e=>{var t=document.createElement("button");t.type="button",t.className="glossary-alpha__btn",t.dataset.letter=e.value,t.textContent=e.label,w.appendChild(t),m.set(e.value,t)}),new Map);function N(){m.forEach((e,t)=>{n.letters.has(t)?e.classList.add("is-active"):e.classList.remove("is-active")})}function T(e,t){if(e.element){var r=e.dom||{},a=r.termHeading||e.element.querySelector(".glossary-item__term"),i=r.aliasParagraph||e.element.querySelector(".glossary-item__aliases"),n=r.definitionParagraph||e.element.querySelector(".glossary-item__definition"),n=(a&&(a.innerHTML=s.highlight(e.term,t)),n&&(n.innerHTML=s.highlight(e.definition,t)),i&&(e.aliases.length?(a=e.aliases.map(e=>s.highlight(e,t)),i.innerHTML="Also known as: "+a.join(", "),i.hidden=!1):(i.hidden=!0,i.textContent="")),e);if(n.dom&&n.dom.relatedContainer&&n.dom.relatedList){var a=n.dom.relatedContainer;let i=n.dom.relatedList;n=Array.isArray(n.relatedArticles)?n.relatedArticles:[];i.textContent="",n.length?(n.forEach(e=>{var t,r,a;e&&(t=document.createElement("li"),r=document.createElement("a"),(a=e.slug||e.id||"")?r.href=l(a):(r.href="#",r.setAttribute("aria-disabled","true")),r.textContent=e.title||a||"View article",t.appendChild(r),i.appendChild(t))}),a.hidden=!1):a.hidden=!0}i=e;if(i.dom&&i.dom.toolContainer&&i.dom.toolList){n=i.dom.toolContainer;let a=i.dom.toolList;i=Array.isArray(i.toolReferences)?i.toolReferences:[];a.textContent="",i.length?(i.forEach(e=>{var t,r;e&&e.id&&(t=document.createElement("li"),(r=document.createElement("a")).href="/#"+e.id,r.textContent=e.title||e.id,t.appendChild(r),a.appendChild(t))}),n.hidden=!1):n.hidden=!0}r.connectionsWrapper&&(a=!r.relatedContainer||r.relatedContainer.hidden,e=!r.toolContainer||r.toolContainer.hidden,r.connectionsWrapper.hidden=a&&e)}}function I(){let i=0;c.forEach(t=>{var e="all"===n.topic||t.topic===n.topic,r=(a=t,!((r=n.letters)&&!r.has("all")&&0!==r.size)||(a=a.firstChar||"",/^[0-9]/.test(a)?r.has("numeric"):!!a&&r.has(a))),a=n.tokens.every(e=>t.searchText.includes(e));t.element&&(e&&r&&a?(T(t,n.tokens),t.element.style.display="",t.element.removeAttribute("hidden"),t.element.setAttribute("aria-hidden","false"),t.isVisible=!0,i+=1):(t.element.style.display="none",t.element.setAttribute("hidden","true"),t.element.setAttribute("aria-hidden","true"),t.isVisible=!1))}),0===i?(t||(y.textContent=e,t=!0),y.hidden=!1,y.setAttribute("aria-hidden","false")):(t&&(y.textContent="",t=!1),y.hidden=!0,y.setAttribute("aria-hidden","true"))}function P(){var e;g&&h&&(e=h.closest(".search-input-wrapper"))&&(e.dataset.hasValue=""!==g.value.trim()?"true":"false")}u&&u.dataset&&"true"===u.dataset.ssr&&u.querySelectorAll(".glossary-item").forEach(e=>{var t=e.getAttribute("data-entry-slug"),r=(e.id||"").startsWith("glossary-")?e.id.slice("glossary-".length):"",t=t||r;t&&p.set(t,e)}),c.forEach(e=>{var t,r,a,i,n,l,s,o,d,c,m=p.get(e.slug);m?(m.dataset.topic=e.topic,m.dataset.firstLetter=e.firstChar||"",m.setAttribute("role","listitem"),m.setAttribute("data-entry-slug",e.slug),m.removeAttribute("hidden"),m.setAttribute("aria-hidden","false"),t=(a=m).querySelector(".glossary-item__section--articles"),r=a.querySelector(".glossary-item__section--tool"),a={termHeading:a.querySelector(".glossary-item__term"),aliasParagraph:a.querySelector(".glossary-item__aliases"),definitionParagraph:a.querySelector(".glossary-item__definition"),connectionsWrapper:a.querySelector(".glossary-item__connections"),relatedContainer:t,relatedList:t?t.querySelector(".glossary-item__list"):null,toolContainer:r,toolList:r?r.querySelector(".glossary-item__list"):null},e.element=m,e.dom=a,u.appendChild(m)):((t=document.createElement("article")).className="glossary-item",t.dataset.topic=e.topic,t.dataset.firstLetter=e.firstChar||"",t.dataset.entrySlug=e.slug,t.setAttribute("role","listitem"),t.setAttribute("aria-hidden","true"),e.slug&&(t.id="glossary-"+e.slug),(r=document.createElement("header")).className="glossary-item__header",(a=document.createElement("h2")).className="glossary-item__term",a.textContent=e.term,r.append(a),(m=document.createElement("p")).className="glossary-item__aliases",m.hidden=0===e.aliases.length,(i=document.createElement("p")).className="glossary-item__definition",i.textContent=e.definition,(n=document.createElement("div")).className="glossary-item__connections",(l=document.createElement("section")).className="glossary-item__section glossary-item__section--articles",l.hidden=!0,(o=document.createElement("h3")).className="glossary-item__section-title",o.textContent="Related articles",(s=document.createElement("ul")).className="glossary-item__list",l.append(o,s),(o=document.createElement("section")).className="glossary-item__section glossary-item__section--tool",o.hidden=!0,(d=document.createElement("h3")).className="glossary-item__section-title",d.textContent="Main tool references",(c=document.createElement("ul")).className="glossary-item__list",o.append(d,c),n.append(l,o),t.append(r,m,i,n),u.appendChild(t),e.element=t,e.dom={termHeading:a,aliasParagraph:m,definitionParagraph:i,connectionsWrapper:n,relatedContainer:l,relatedList:s,toolContainer:o,toolList:c})}),u&&u.dataset&&"true"===u.dataset.ssr&&(u.dataset.ssr="hydrated"),g.addEventListener("input",function(){n.query=g.value.trim(),P(),n.tokens=n.query?n.query.toLowerCase().split(/\s+/).filter(Boolean):[],I()}),g.addEventListener("change",P),h&&g&&(h.addEventListener("click",function(){g.value="",P(),g.dispatchEvent(new Event("input",{bubbles:!0})),g.focus()}),P()),f.addEventListener("change",function(){n.topic=f.value,I()}),w.addEventListener("click",function(e){var t;(e=e.target)instanceof HTMLButtonElement&&(e=e.dataset.letter)&&("all"===e?n.letters=new Set(["all"]):((t=new Set(n.letters)).has("all")&&t.delete("all"),t.has(e)?t.delete(e):t.add(e),0===t.size&&t.add("all"),n.letters=t),N(),I())}),N(),n.tokens=[],I()}else console.warn("Glossary UI elements are missing.")}else console.warn("Glossary data is empty or missing.")})();
